<Project>
  <Import Project="Sdk.props" Sdk="Microsoft.NET.Sdk" />

  <PropertyGroup>
    <EnableDefaultCompileItems>false</EnableDefaultCompileItems>
  </PropertyGroup>

  <ItemGroup>
    <Compile Include="$(MRTKRoot)\Src\MixedRealityToolkit-SDK\**\*.cs" />

    <Content Include="$(MRTKRoot)\Src\MixedRealityToolkit-SDK\Profiles\*">
      <PackagePath>%(RelativeDir)</PackagePath>
      <CopyToOutputDirectory>PreserveNewest</CopyToOutputDirectory>
    </Content>
  </ItemGroup>

  <ItemGroup>
    <Reference Include="$(UnityEngineDll)" />
    <Reference Include="$(UnityEngineUIExtensionDll)" />
    <ProjectReference Include="../MixedReality.Toolkit/MixedReality.Toolkit.csproj" />
  </ItemGroup>

  <Import Project="Sdk.targets" Sdk="Microsoft.NET.Sdk" />

  <!-- All AfterBuild logic has to go post Sdk.targets, since AfterBuild is defined in the .targets file -->
  <Target Name="AfterBuild" Condition=" '$(TargetFramework)' == '$(MRTKBinaryFramework)'">
    <Message Text="Copying $(OutputPath)$(AssemblyName).dll => $(MRTKRoot)\Assets\Bin\$(AssemblyName)" Importance="high" />
    <Copy SourceFiles="$(OutputPath)$(AssemblyName).dll" DestinationFolder="$(MRTKRoot)\Assets\Bin" />
  </Target>
</Project>
